<template>
  <section class="taumaturgia-section">
    <div class="container">
      <!-- T√≠tulo principal -->
      <div class="row">
        <div class="col-xl-12">
          <div class="main-title text-center mb-5">
            <h1>TAUMATURGIA (EVENTOS M√ÅGICOS)</h1>
          </div>
        </div>
      </div>

      <!-- Secci√≥n PRESAGIO -->
      <div class="presagio-section">
        <div class="row">
          <div class="col-xl-12">
            <div class="section-title text-center mb-5">
              <h2>PRESAGIO</h2>
            </div>
          </div>
        </div>

        <!-- Calendario placeholder -->
        <div class="calendar-container">
          <div class="calendar-header">
            <h3 id="currentMonth"></h3>
            <div class="calendar-nav">
              <button id="prevMonth">&lt;</button>
              <button id="nextMonth">&gt;</button>
            </div>
          </div>
          <div class="calendar-grid" id="calendar">
            <!-- Calendar will be generated by JavaScript -->
          </div>
        </div>
      </div>

      <!-- Secci√≥n Encuentros ceremoniales y rituales -->
      <div class="encuentros-section mt-5">
        <div class="row">
          <div class="col-xl-12">
            <div class="section-title text-center mb-5">
              <h2>Encuentros ceremoniales y rituales</h2>
              <p class="subtitle">En este enlace describimos los eventos que organizamos, los cuales te especificamos a continuaci√≥n ‚ò∫</p>
            </div>
          </div>
        </div>

        <!-- Evento Principal - Reino Fungi -->
        <div class="row mb-5">
          <div class="col-xl-12">
            <div class="evento-card evento-card-principal">
              <div class="evento-icon">
                <img src="/assets/images/Servicios/Reino_fungi.png" alt="Reino Fungi" class="emblema emblema-principal">
              </div>
              <h3>MEDICINA DEL REINO FUNGI</h3>

              <div class="fungi-variants-grid">
                <div class="variant-item">
                  <h4>"ENCANTAMIENTO"</h4>
                  <p>Encuentro Ritual de conexi√≥n con las energ√≠as elementales y las fuerzas naturales, con la ingesta de una dosis ritual de setas psilocibicas deshidratadas, rezos de intenci√≥n, rueda medicinal, or√°culos, cantos, icaros y m√∫sica de medicina en vivo, en un espacio de Naturaleza, en presencia del Fuego Ceremonial, que constituye el altar principal. Finaliza con c√≠rculo de palabra y de acompa√±amiento terap√©utico.</p>
                </div>

                <div class="variant-item">
                  <h4>FUNGI "HECHIZO"</h4>
                  <p>Encuentro Ritual de conexi√≥n con las energ√≠as elementales y las fuerzas naturales, con la ingesta de una dosis ritual profunda de setas psilocibicas deshidratadas, rezos de intenci√≥n, rueda medicinal, or√°culos, cantos, icaros y m√∫sica de medicina en vivo, en un espacio de Naturaleza, en presencia del Fuego Ceremonial, que constituye el altar principal. Finaliza con c√≠rculo de palabra y de acompa√±amiento terap√©utico.</p>
                </div>

                <div class="variant-item">
                  <h4>"CONJURO"</h4>
                  <p>Encuentro Ritual exclusivo para estudiosos y caminantes de esta medicina, de conexi√≥n con las energ√≠as elementales y las fuerzas naturales, con la ingesta de una dosis ritual super profunda de setas psilocibicas deshidratadas, rezos de intenci√≥n, rueda medicinal, or√°culos, cantos, icaros y m√∫sica de medicina en vivo, en un espacio de Naturaleza, en presencia del Fuego Ceremonial, que constituye el altar principal. Finaliza con c√≠rculo de palabra y de acompa√±amiento terap√©utico.</p>
                </div>

                <div class="variant-item">
                  <h4>RESONANCIA M√ÅGICA MEDITATIVA</h4>
                  <p>C√≠rculo de meditaci√≥n, con la ingesta de una dosis meditativa/sensorial de setas psilocibicas deshidratadas, acompa√±ado de sonidos vibratorios org√°nicos y m√∫sica meditativa en vivo, para el despertar sensorial del propio ser, induciendo a la calma y al encuentro consigo mismo, bien como un primer acercamiento a la Medicina del Reino Fungi, o para entrar en una meditaci√≥n profunda, mientras se reciben los beneficios biol√≥gicos de esta medicina (4 horas).</p>
                </div>

                <div class="variant-item variant-item-centered">
                  <h4>RESONANCIA M√ÅGICA MUSICAL</h4>
                  <p>C√≠rculo medicinal contemplativo, acompa√±ado de m√∫sica de medicina, con la ingesta de una dosis meditativa/sensorial de setas psilocibicas deshidratadas, para desplegar estados favorables en el despertar de la creatividad, la armon√≠a interna, la alegr√≠a y la expresi√≥n del ser a trav√©s de la danza, la pintura, la escritura y la participaci√≥n musical, mientras se reciben los beneficios biol√≥gicos de esta medicina. (5 horas).</p>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Eventos Secundarios -->
        <div class="row">
          <div class="col-xl-6 col-lg-6 col-md-12 mb-4">
            <div class="evento-card evento-card-large">
              <div class="evento-icon">
                <img src="/assets/images/Servicios/YageAyahuasca.png" alt="Ayahuasca" class="emblema">
              </div>
              <h3>MEDICINA ANCESTRAL YAGE (AYAHUASCA)</h3>
              <p>Encuentro cham√°nico grupal, con la ingesta de esta Planta de Poder, que emplea la energ√≠a ancestral y la conexi√≥n con las fuerzas elementales, acompa√±ado de rezos, rueda medicinal, armonizaci√≥n energ√©tica, cantos, icaros y m√∫sica de medicina en vivo, en un espacio de Naturaleza, en presencia del Fuego Ceremonial. Finaliza con c√≠rculo de palabra y de acompa√±amiento terap√©utico.</p>
            </div>
          </div>

          <div class="col-xl-6 col-lg-6 col-md-12 mb-4">
            <div class="evento-card evento-card-large">
              <div class="evento-icon">
                <img src="/assets/images/Servicios/Teramai_Senchen.png" alt="Reiki Teramai" class="emblema">
              </div>
              <h3>REIKI TERAMAI ‚Äì SEICHEM (REIKI ESTILO CHAM√ÅNICO)</h3>
              <p>Formaci√≥n grupal y proceso inici√°tico de canalizaci√≥n energ√©tica de los rayos de sanaci√≥n de la Tierra, el Agua, el Aire y el Fuego. Manejo de la energ√≠a angelical, la sanaci√≥n con colores, la armon√≠a vibracional, la danza cham√°nica y el canto curativo. Formaci√≥n en 6 Niveles: 2 Niveles de Formaci√≥n Reiki Teramai-Seiche; 3 Niveles de Magia Teramai y Maestr√≠a.</p>
            </div>
          </div>

          <div class="col-xl-4 col-lg-4 col-md-6 mb-4">
            <div class="evento-card evento-card-medium">
              <div class="evento-icon">
                <img src="/assets/images/Servicios/Abra_Cadabra.png" alt="Abra Cadabra" class="emblema emblema-medium">
              </div>
              <h3>ABRA CADABRA</h3>
              <p>Compartir grupal y de aprendizaje, a trav√©s de la palabra, guiado con actividades creativas y din√°micas grupales que permiten desarrollar la conciencia del aqu√≠ y ahora en los procesos individuales, as√≠ como el incremento de la comunicaci√≥n amorosa. (2 horas).</p>
            </div>
          </div>

          <div class="col-xl-4 col-lg-4 col-md-6 mb-4">
            <div class="evento-card evento-card-medium">
              <div class="evento-icon">
                <img src="/assets/images/icon/sesiones.png" alt="Sesiones" class="emblema emblema-medium">
              </div>
              <h3>SESIONES</h3>
              <p>Recital de M√∫sica de Medicina, con la participaci√≥n de varios m√∫sicos invitados, a trav√©s del cual se genera un espacio de esparcimiento que emplea la m√∫sica como medio de conciencia. (4 horas).</p>
            </div>
          </div>

          <div class="col-xl-4 col-lg-4 col-md-6 mb-4">
            <div class="evento-card evento-card-medium">
              <div class="evento-icon">
                <img src="/assets/images/Servicios/MagicSaDan.png" alt="MagicsaDan" class="emblema emblema-medium">
              </div>
              <h3>MAGICSADAN</h3>
              <p>Sesiones grupales de sagrado movimiento m√°gico ancestral; movimiento aut√©ntico y consciente de efectos terap√©uticos, combinando danza sagrada y rituales de poder, que permiten reconectar con nuestra fuerza vital primordial, nuestra naturaleza divina. Herramienta de auto conocimiento, que regula el bienestar, disminuye el cortisol en el cuerpo producto del estr√©s y permite la conexi√≥n del individuo con su biolog√≠a, su esencia, la consciencia de estar vivo, la Magia que portamos y la sacralidad en todo, en la existencia misma.</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
</template>

<script setup>
import { onMounted } from 'vue'

onMounted(() => {
  initCalendar()
})

const initCalendar = () => {
  const monthNames = [
    'Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio',
    'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'
  ]

  let currentMonth = new Date().getMonth()
  let currentYear = new Date().getFullYear()

  const updateCalendar = () => {
    const monthElement = document.getElementById('currentMonth')
    const calendarElement = document.getElementById('calendar')

    if (!monthElement || !calendarElement) return

    monthElement.textContent = `${monthNames[currentMonth]} ${currentYear}`

    // Clear calendar
    calendarElement.innerHTML = ''

    // Days of week header
    const daysOfWeek = ['Dom', 'Lun', 'Mar', 'Mi√©', 'Jue', 'Vie', 'S√°b']
    daysOfWeek.forEach(day => {
      const dayElement = document.createElement('div')
      dayElement.classList.add('calendar-day-header')
      dayElement.textContent = day
      calendarElement.appendChild(dayElement)
    })

    // Get first day of month and number of days
    const firstDay = new Date(currentYear, currentMonth, 1).getDay()
    const daysInMonth = new Date(currentYear, currentMonth + 1, 0).getDate()

    // Add empty cells for days before first day of month
    for (let i = 0; i < firstDay; i++) {
      const emptyDay = document.createElement('div')
      emptyDay.classList.add('calendar-day', 'empty')
      calendarElement.appendChild(emptyDay)
    }

    // Add days of month
    for (let day = 1; day <= daysInMonth; day++) {
      const dayElement = document.createElement('div')
      dayElement.classList.add('calendar-day')
      dayElement.textContent = day

      // Add random emblema to some days (this is just for demonstration)
      if (Math.random() > 0.8) {
        const emblema = document.createElement('div')
        emblema.classList.add('day-emblema')
        emblema.innerHTML = 'üåô' // This could be different emblemas
        dayElement.appendChild(emblema)
      }

      calendarElement.appendChild(dayElement)
    }
  }

  // Navigation buttons
  const prevButton = document.getElementById('prevMonth')
  const nextButton = document.getElementById('nextMonth')

  if (prevButton) {
    prevButton.addEventListener('click', () => {
      currentMonth--
      if (currentMonth < 0) {
        currentMonth = 11
        currentYear--
      }
      updateCalendar()
    })
  }

  if (nextButton) {
    nextButton.addEventListener('click', () => {
      currentMonth++
      if (currentMonth > 11) {
        currentMonth = 0
        currentYear++
      }
      updateCalendar()
    })
  }

  updateCalendar()
}
</script>

<style scoped>
.taumaturgia-section {
  padding: 80px 0;
  background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
}

.main-title h1 {
  font-size: 4rem;
  color: #b3a85a;
  font-weight: 700;
  margin-bottom: 40px;
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
}

.section-title h2 {
  font-size: 3rem;
  color: #b3a85a;
  font-weight: 700;
  margin-bottom: 20px;
}

.section-title .subtitle {
  font-size: 1.2rem;
  color: #6c757d;
  margin-bottom: 0;
}

.presagio-section {
  background: white;
  padding: 60px 40px;
  border-radius: 20px;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
  margin-bottom: 60px;
}

/* Calendar Styles */
.calendar-container {
  max-width: 800px;
  margin: 0 auto;
  background: white;
  border-radius: 15px;
  padding: 30px;
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
}

.calendar-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 30px;
}

.calendar-header h3 {
  font-size: 2rem;
  color: #b3a85a;
  font-weight: 600;
  margin: 0;
}

.calendar-nav button {
  background: #b3a85a;
  color: white;
  border: none;
  width: 40px;
  height: 40px;
  border-radius: 50%;
  font-size: 1.2rem;
  cursor: pointer;
  transition: all 0.3s ease;
}

.calendar-nav button:hover {
  background: #7da052;
  transform: scale(1.1);
}

.calendar-grid {
  display: grid;
  grid-template-columns: repeat(7, 1fr);
  gap: 5px;
}

.calendar-day-header {
  padding: 15px 10px;
  text-align: center;
  font-weight: 600;
  color: #b3a85a;
  border-bottom: 2px solid #e9ecef;
}

.calendar-day {
  aspect-ratio: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
  border-radius: 8px;
  transition: all 0.3s ease;
  cursor: pointer;
}

.calendar-day:not(.empty):hover {
  background: #f8f9fa;
  transform: scale(1.05);
}

.calendar-day.empty {
  cursor: default;
}

.day-emblema {
  position: absolute;
  top: 5px;
  right: 5px;
  font-size: 12px;
}

/* Eventos Cards */
.encuentros-section {
  background: white;
  padding: 60px 40px;
  border-radius: 20px;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
}

.evento-card {
  background: white;
  padding: 40px 30px;
  border-radius: 15px;
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
  text-align: center;
  transition: all 0.3s ease;
  height: 100%;
  border: 2px solid transparent;
}

.evento-card:hover {
  transform: translateY(-10px);
  box-shadow: 0 15px 40px rgba(179, 168, 90, 0.3);
  border-color: #b3a85a;
}

.evento-icon {
  margin-bottom: 25px;
}

.emblema {
  width: 80px;
  height: 80px;
  object-fit: contain;
  filter: opacity(0.8);
  transition: all 0.3s ease;
}

.evento-card:hover .emblema {
  filter: opacity(1);
  transform: scale(1.1);
}

.evento-card h3 {
  font-size: 1.8rem;
  color: #b3a85a;
  font-weight: 600;
  margin-bottom: 20px;
}

.evento-card p {
  color: #6c757d;
  line-height: 1.6;
  font-size: 1rem;
}

/* Cards m√°s grandes para eventos principales */
.evento-card-large {
  padding: 50px 40px;
}

.evento-card-large h3 {
  font-size: 2rem;
  margin-bottom: 30px;
}

.evento-card-large p {
  font-size: 1.1rem;
  line-height: 1.7;
}

/* Variantes del Reino Fungi */
.fungi-variants {
  margin-top: 25px;
}

.variant-item {
  margin-bottom: 20px;
  padding: 20px;
  background: #f8f9fa;
  border-radius: 10px;
  border-left: 4px solid #b3a85a;
}

.variant-item:last-child {
  margin-bottom: 0;
}

.variant-item h4 {
  color: #b3a85a;
  font-size: 1.3rem;
  font-weight: 600;
  margin-bottom: 10px;
}

.variant-item p {
  margin-bottom: 0;
  font-size: 0.95rem;
}

/* Card Principal para Reino Fungi */
.evento-card-principal {
  background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
  padding: 60px 50px;
  border: 3px solid #b3a85a;
  border-radius: 25px;
  box-shadow: 0 15px 40px rgba(179, 168, 90, 0.2);
}

.evento-card-principal h3 {
  font-size: 2.5rem;
  text-align: center;
  margin-bottom: 40px;
}

.emblema-principal {
  width: 120px;
  height: 120px;
  margin: 0 auto 30px;
  display: block;
}

.fungi-variants-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 25px;
  margin-top: 30px;
}

.fungi-variants-grid .variant-item {
  background: white;
  border: 2px solid #e9ecef;
  transition: all 0.3s ease;
}

.fungi-variants-grid .variant-item:hover {
  border-color: #b3a85a;
  transform: translateY(-3px);
  box-shadow: 0 8px 25px rgba(179, 168, 90, 0.15);
}

.variant-item-centered {
  grid-column: 1 / -1;
  max-width: 600px;
  margin: 0 auto;
}

/* Cards peque√±as */
.evento-card-small {
  padding: 25px 20px;
  background: white;
  border-radius: 12px;
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
  transition: all 0.3s ease;
  border: 1px solid #e9ecef;
}

.evento-card-small:hover {
  transform: translateY(-5px);
  box-shadow: 0 10px 25px rgba(179, 168, 90, 0.2);
  border-color: #b3a85a;
}

.evento-card-small h4 {
  font-size: 1.4rem;
  color: #b3a85a;
  font-weight: 600;
  margin-bottom: 15px;
}

.evento-card-small p {
  font-size: 0.9rem;
  line-height: 1.5;
  color: #6c757d;
  margin-bottom: 0;
}

.emblema-small {
  width: 50px;
  height: 50px;
  margin-bottom: 15px;
}

.eventos-peque√±os {
  height: 100%;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
}

/* Cards medianas */
.evento-card-medium {
  padding: 35px 25px;
  background: white;
  border-radius: 15px;
  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
  transition: all 0.3s ease;
  height: 100%;
  border: 2px solid transparent;
}

.evento-card-medium:hover {
  transform: translateY(-8px);
  box-shadow: 0 15px 35px rgba(179, 168, 90, 0.25);
  border-color: #b3a85a;
}

.evento-card-medium h3 {
  font-size: 1.6rem;
  color: #b3a85a;
  font-weight: 600;
  margin-bottom: 20px;
}

.evento-card-medium p {
  color: #6c757d;
  line-height: 1.6;
  font-size: 0.95rem;
}

.emblema-medium {
  width: 70px;
  height: 70px;
  margin-bottom: 20px;
}

/* Responsive */
@media (max-width: 768px) {
  .main-title h1 {
    font-size: 2.5rem;
  }

  .section-title h2 {
    font-size: 2rem;
  }

  .calendar-header h3 {
    font-size: 1.5rem;
  }

  .calendar-container,
  .presagio-section,
  .encuentros-section {
    padding: 30px 20px;
  }

  .evento-card {
    padding: 30px 20px;
  }

  .evento-card h3 {
    font-size: 1.5rem;
  }

  .evento-card-large {
    padding: 30px 25px;
  }

  .evento-card-large h3 {
    font-size: 1.6rem;
  }

  .variant-item {
    padding: 15px;
  }

  .variant-item h4 {
    font-size: 1.2rem;
  }

  .evento-card-principal {
    padding: 40px 30px;
  }

  .evento-card-principal h3 {
    font-size: 2rem;
  }

  .fungi-variants-grid {
    grid-template-columns: 1fr;
    gap: 15px;
  }

  .emblema-principal {
    width: 80px;
    height: 80px;
  }

  .evento-card-small {
    padding: 20px 15px;
  }

  .evento-card-small h4 {
    font-size: 1.2rem;
  }

  .evento-card-medium {
    padding: 25px 20px;
  }

  .evento-card-medium h3 {
    font-size: 1.4rem;
  }

  .emblema-medium {
    width: 60px;
    height: 60px;
  }
}

@media (max-width: 480px) {
  .calendar-grid {
    gap: 2px;
  }

  .calendar-day-header {
    padding: 10px 5px;
    font-size: 0.9rem;
  }

  .calendar-day {
    font-size: 0.9rem;
  }
}
</style>
